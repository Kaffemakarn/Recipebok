<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
    <script src="https://smartlock.google.com/client"></script>
     <h:outputStylesheet library="css" name="default.css"  />
    
    <ui:define name="content"> 

        <b:container>
            <b:row>
                <b:column span="12">
                    <h2>Home</h2>
                </b:column>
            </b:row>
            <b:row>
                
            </b:row>
            <b:row>
                <b:jumbotron style="margin-bottom: 15px;height:250px;background-image: url(resources/img/welcome_banner.jpg);background-size: cover; background-position: center center; border-radius: 0;"> 
                    <h1 style="color: #FFFFFF; text-align: center;margin-bottom: 0;">Welcome to Recipebok</h1>
                    <h3 style="color: #FFFFFF; text-align: center;">The place where your favorite recipes live</h3>
                </b:jumbotron>
            </b:row>
        </b:container>   
        

        <b:container style="background-color: #EEEEEE;">
            <b:row style="margin:10px;">
                <b:dataTable 
                    id="recipeTable" 
                    var="r" 
                    value="#{recipebean.findAll()}" 
                    striped="true"
                    page-length-menu="5,10,20"
                    page-length="5">
                    
                    <b:dataTableColumn label="Image" style="width:160px;" orderable="false">
                        <b:thumbnail>
                            <b:image value="resources/img/thumbnail.svg" style="height:150px; width: 100%;"/>
                        </b:thumbnail>
                    </b:dataTableColumn>

                    <b:dataTableColumn label="Title" style="width:500px;" id="ingredientTable">
                        <h3>#{r.name}</h3>
                        <!--<p>Ingredients: #{ingredientbean.findByRecipe(r)}</p>-->
                    </b:dataTableColumn>
                    
                    <b:dataTableColumn label="Date">
                        <h4 style="text-align: center; margin-top: 4.5em;">#{r.creationTime}</h4>
                    </b:dataTableColumn>
                    
                    <b:dataTableColumn label="Rating">
                        <h4 style="text-align: center; margin-top: 4.5em;">#{r.creationTime}</h4>
                    </b:dataTableColumn>
                    
                    <b:dataTableColumn label="Favorite" orderable="false">
                        
                        <b:modal id="amodal" title="Modal Example" styleClass="modalPseudoClass">
                            <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
                            <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>
                            <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
                            <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
                            <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>
                            <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
                            <f:facet name="footer">
                              <b:button value="Close" dismiss="modal" />
                              <b:button value="Ok" look="primary" dismiss="modal" />
                            </f:facet>
                        </b:modal>

                        <!--<b:button icon-awesome="fa-heart" style="margin-left:2em; margin-top:5em;" onclick="$('.modalPseudoClass').modal()"/>-->
                        <h:outputLink value="#{root}/cookbook/addToCookbook.xhtml?recipe=#{recipe}">Add to Cookbook</h:outputLink>

                    </b:dataTableColumn>
                    
                </b:dataTable>
              </b:row>
            <b:row>
                <b:form>
                    <b:commandButton value="Populate database" look="success" size="xs" span="2"
                                     actionListener="#{db.populate}" binding="#{populateBtn}"/>

                    <b:commandButton value="Clear database" look="warning" size="xs" span="2"
                                     actionListener="#{db.clear}" binding="#{clearBtn}"/>
                </b:form> 
            </b:row>
        </b:container>
        
    </ui:define>
    
</ui:composition>
